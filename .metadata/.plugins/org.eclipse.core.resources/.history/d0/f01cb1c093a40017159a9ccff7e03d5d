package main.listaEncadeada;

public class ListaEncadeada<T> {

	private No<T> raiz;
	private int tam;
	private boolean repeticao;
	
	public ListaEncadeada(){
		this.raiz = null;
		this.tam = 0;
		this.repeticao = false;
	}
	
	public ListaEncadeada(boolean repeticao){
		this();
		this.repeticao = repeticao;
	}
	
	public No<T> add(T elem){
		No<T> novo = add(this.raiz, elem);
		if(novo != null){
			this.raiz = novo;
			tam++;
		}
		return novo;
	}
	
	private No<T> add(No<T> atual, T elem){
		if(atual == null){
			return new No<T>(elem);
		}else {
			if(!repeticao && atual.getInfo().equals(elem))
				return null;
			No<T> novo = add(atual.getProx(), elem);
			if(novo == null){
				return null; 
			} else {
				atual.setProx(novo);
				return atual;
			}
		}
	}
	
	public Object[] getInfosAsArray(){
		Object[] out = new Object[this.tam];
		No<T> atual = this.raiz;
		
		for(int i = 0; i < this.tam; i++){
			out[i] = atual.getInfo();
			atual = atual.getProx();
		}

		
		return out;
	}
	
	public No<T> getRaiz() {
		return raiz;
	}
	
	public void setRaiz(No<T> raiz) {
		this.raiz = raiz;
	}
	
	public int getTam() {
		return tam;
	}
	
	public void setTam(int tam) {
		this.tam = tam;
	}

	@Override
	public String toString() {
		
		String out = "{ ";
		No<T> atual = this.raiz;
		while(atual != null){
			out += atual.toString();
			if(atual.getProx() != null)
				out += ", ";
			atual = atual.getProx();
		}
		out += " }";
		
		return out;
		
	}
	
	
	
}
