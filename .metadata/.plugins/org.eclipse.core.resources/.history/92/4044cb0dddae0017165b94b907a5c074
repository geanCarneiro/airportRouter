package main;

import java.io.File;
import java.util.Arrays;

public class Main {
	
	public static void main(String[] args) {
		
		FileManager.setup();
		
		File[] files = FileManager.getInputs();
		String[] out; 
		
		if(files.length == 0) {
			System.out.println("Pasta de Input vazia");
			System.exit(0);
		}
		
		for (File file : files) {
			
			if(file.getName().startsWith("cliente")) {
			
				Cliente[] clientes = Manipulador.gerarPessoasDeLinhas(FileManager.getLinhas(file));
				
				System.out.print("Arquivo " + file.getName() + "...");
				try {
					Manipulador.QuickSort(clientes);
				}catch (Exception e) {
					System.out.println();;
				}
				System.out.println(" Ordenado!! ");
				
				out = new String[clientes.length];
				
				for(int i = 0; i < out.length; i++)
					out[i] = clientes[i].toString();
				
				FileManager.outputToFile(file.getName(), out);
			}
			
		}
		
		
		
		
		
		
	}

}
